{"ast":null,"code":"const crypto = require('crypto');\n\nconst _require = require('./utils'),\n      checkAndInit = _require.checkAndInit,\n      smix = _require.smix; // N = Cpu cost, r = Memory cost, p = parallelization cost\n\n\nasync function scrypt(key, salt, N, r, p, dkLen, progressCallback, promiseInterval) {\n  const _checkAndInit = checkAndInit(key, salt, N, r, p, dkLen, progressCallback),\n        XY = _checkAndInit.XY,\n        V = _checkAndInit.V,\n        B32 = _checkAndInit.B32,\n        x = _checkAndInit.x,\n        _X = _checkAndInit._X,\n        B = _checkAndInit.B,\n        tickCallback = _checkAndInit.tickCallback;\n\n  for (var i = 0; i < p; i++) {\n    await smix(B, i * 128 * r, r, N, V, XY, _X, B32, x, tickCallback, promiseInterval);\n  }\n\n  return crypto.pbkdf2Sync(key, B, 1, dkLen, 'sha256');\n}\n\nmodule.exports = scrypt;","map":{"version":3,"sources":["C:/Users/kanli/Documents/react/test/node_modules/scryptsy/lib/scrypt.js"],"names":["crypto","require","checkAndInit","smix","scrypt","key","salt","N","r","p","dkLen","progressCallback","promiseInterval","XY","V","B32","x","_X","B","tickCallback","i","pbkdf2Sync","module","exports"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;iBAIIA,OAAO,CAAC,SAAD,C;MAFTC,Y,YAAAA,Y;MACAC,I,YAAAA,I,EAGF;;;AACA,eAAeC,MAAf,CAAuBC,GAAvB,EAA4BC,IAA5B,EAAkCC,CAAlC,EAAqCC,CAArC,EAAwCC,CAAxC,EAA2CC,KAA3C,EAAkDC,gBAAlD,EAAoEC,eAApE,EAAqF;AAAA,wBAS/EV,YAAY,CAACG,GAAD,EAAMC,IAAN,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,CAAlB,EAAqBC,KAArB,EAA4BC,gBAA5B,CATmE;AAAA,QAEjFE,EAFiF,iBAEjFA,EAFiF;AAAA,QAGjFC,CAHiF,iBAGjFA,CAHiF;AAAA,QAIjFC,GAJiF,iBAIjFA,GAJiF;AAAA,QAKjFC,CALiF,iBAKjFA,CALiF;AAAA,QAMjFC,EANiF,iBAMjFA,EANiF;AAAA,QAOjFC,CAPiF,iBAOjFA,CAPiF;AAAA,QAQjFC,YARiF,iBAQjFA,YARiF;;AAWnF,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,CAApB,EAAuBW,CAAC,EAAxB,EAA4B;AAC1B,UAAMjB,IAAI,CAACe,CAAD,EAAIE,CAAC,GAAG,GAAJ,GAAUZ,CAAd,EAAiBA,CAAjB,EAAoBD,CAApB,EAAuBO,CAAvB,EAA0BD,EAA1B,EAA8BI,EAA9B,EAAkCF,GAAlC,EAAuCC,CAAvC,EAA0CG,YAA1C,EAAwDP,eAAxD,CAAV;AACD;;AAED,SAAOZ,MAAM,CAACqB,UAAP,CAAkBhB,GAAlB,EAAuBa,CAAvB,EAA0B,CAA1B,EAA6BR,KAA7B,EAAoC,QAApC,CAAP;AACD;;AAEDY,MAAM,CAACC,OAAP,GAAiBnB,MAAjB","sourcesContent":["const crypto = require('crypto')\nconst {\n  checkAndInit,\n  smix\n} = require('./utils')\n\n// N = Cpu cost, r = Memory cost, p = parallelization cost\nasync function scrypt (key, salt, N, r, p, dkLen, progressCallback, promiseInterval) {\n  const {\n    XY,\n    V,\n    B32,\n    x,\n    _X,\n    B,\n    tickCallback\n  } = checkAndInit(key, salt, N, r, p, dkLen, progressCallback)\n\n  for (var i = 0; i < p; i++) {\n    await smix(B, i * 128 * r, r, N, V, XY, _X, B32, x, tickCallback, promiseInterval)\n  }\n\n  return crypto.pbkdf2Sync(key, B, 1, dkLen, 'sha256')\n}\n\nmodule.exports = scrypt\n"]},"metadata":{},"sourceType":"script"}